import { Button, VerticalBox } from "std-widgets.slint";
import { LineEdit } from "std-widgets.slint";
import { StandardButton, VerticalBox } from "std-widgets.slint";
import { CheckBox } from "std-widgets.slint";
import { GroupBox, HorizontalBox } from "std-widgets.slint";
import { GridBox } from "std-widgets.slint";

export component AppWindow inherits Window {
    in-out property <int> counter: 42;
    callback request-increase-value();
    callback request-decrease-value();
    callback quit_button_clicked();
    callback save_button_clicked();


    VerticalBox {

        GridLayout {
            Row{
               Text { text: "Source Backup:"; vertical-alignment: center; horizontal-alignment: right; }
               HorizontalLayout {
                    colspan: 3;
                    LineEdit {
                                input-type: password;
                                horizontal_stretch: 1;
                    }
                    /*
                    le_manifest := LineEdit {
                                    enabled: !root.deptree-pane-visible;
                                    accepted => { root.reload-manifest(le_manifest.text); }
                                    horizontal_stretch: 1;
                                }
                    */
                    Button {
                         text: "ðŸ“‚";
                           // clicked => { root.show-open-dialog(); }
                            clicked => {  }
                    }


               }
            }
            Row{
                Text { text: "Destination Backup:"; vertical-alignment: center; horizontal-alignment: right; }
                               HorizontalLayout {
                                    colspan: 3;
                                    LineEdit {
                                                input-type: password;
                                                horizontal_stretch: 1;
                                    }
                                    /*
                                    le_manifest := LineEdit {
                                                    enabled: !root.deptree-pane-visible;
                                                    accepted => { root.reload-manifest(le_manifest.text); }
                                                    horizontal_stretch: 1;
                                                }
                                    */
                                    Button {
                                         text: "ðŸ“‚";
                                           // clicked => { root.show-open-dialog(); }
                                            clicked => {  }
                                    }


                               }
            }
        padding-top: 46px /* header line height in design */
                             + /* extra top-padding in design */ 27px;
        spacing: 24px;

        Text {
                text: ("Choose Settings");

         }

        }
        GroupBox {
                title: "A Nice Title";
                CheckBox { text: "Hello World";}
                CheckBox { text: "Hello World";}
                CheckBox { text: "Hello World";}
                CheckBox { text: "Hello World";}
        }

        HorizontalBox {
                alignment: space_between;
                Button {
                    text: "Abort";
                    clicked => {
                        root.quit_button_clicked();
                    }
                }
                Button {
                    text: "Save";
                    clicked => {
                        root.save_button_clicked(); // Collegato al nuovo callback
                    }
                }
        }



    }
}

export component ErrorMessage inherits Window {
    callback exit_button_clicked();

    VerticalBox {
        Text {
            text: "Errore: il file di configurazione non Ã¨ stato trovato o Ã¨ errato. L'applicazione verrÃ  terminata";
            font-size: 15px;
        }

        spacing: 24px;

        HorizontalLayout {
            alignment: center;
            Button {
                text: "Esci";
                width: 100px;
                clicked => {
                    root.exit_button_clicked();
                }
            }
        }
    }
}

export component ConfirmMessage inherits Window {
    callback annulla_button_clicked();

    VerticalBox {
        Text {
            text: "Primo comando riconosciuto correttamente. Per continuare con il backup, inserire il comando di conferma";
            font-size: 15px;
        }

        spacing: 24px;

        HorizontalLayout {
            alignment: center;
            Button {
                text: "Annulla backup";
                width: 100px;
                clicked => {
                    root.annulla_button_clicked();
                }
            }
        }
    }
}

export component BackupCompletedMessage inherits Window {
    callback chiudi_button_clicked();

    VerticalBox {
        Text {
            text: "Backup eseguito correttamente";
            font-size: 15px;
        }

        spacing: 24px;

        HorizontalLayout {
            alignment: center;
            Button {
                text: "Chiudi";
                width: 100px;
                clicked => {
                    root.chiudi_button_clicked();
                }
            }
        }
    }
}

export component BackupErrorMessage inherits Window {
    callback chiudi_button_clicked();

    VerticalBox {
        Text {
            text: "Si sono verificati problemi durante il backup e non Ã¨ stato possibile completarlo";
            font-size: 15px;
        }

        spacing: 24px;

        HorizontalLayout {
            alignment: center;
            Button {
                text: "Chiudi";
                width: 100px;
                clicked => {
                    root.chiudi_button_clicked();
                }
            }
        }
    }
}